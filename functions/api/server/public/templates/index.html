<!doctype html>
<html lang="en" class="h-full antialiased">
  <head>
    <title>AsianAmericans.wiki</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" href="/favicon.ico" type="image/x-icon" />
    <link href="/output.css?v=2" rel="stylesheet" />
    <script src="/1.9.10.htmx.min.js"></script>
    {{ template "dark-mode.html" . }}
  </head>

  <body
    class="flex flex-col min-h-screen bg-[var(--color-background)] text-[var(--color-text)] font-body selection:bg-[var(--color-primary)] selection:text-white"
  >
    {{ template "header.html" . }}

    <main class="flex-grow">
      <!-- Hero Section -->
      <section class="relative bg-[var(--color-card-bg)] border-b border-[var(--color-border)]">
        <div class="absolute inset-0 opacity-5 bg-[url('/pattern.svg')] overflow-hidden pointer-events-none"></div>
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 sm:py-24 text-center relative">
          <h1 class="text-4xl sm:text-6xl font-extrabold text-[var(--color-text)] font-heading tracking-tight mb-4">
            Celebrating <span class="text-[var(--color-primary)]">Asian American</span> Excellence
          </h1>
          <p class="mt-4 max-w-2xl mx-auto text-xl text-[var(--color-text-secondary)]">
            Discover the stories, achievements, and contributions of Asian Americans across history and culture.
          </p>

          <!-- Search Bar -->
          <div class="mt-10 max-w-xl mx-auto relative z-40">
            <form action="/humans" method="GET" class="relative group">
              <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                <svg class="h-5 w-5 text-[var(--color-text-secondary)] group-focus-within:text-[var(--color-primary)] transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                </svg>
              </div>
              <input
                type="text"
                name="search"
                placeholder="Search for humans, tags, or ethnicities..."
                hx-get="/search/suggest"
                hx-trigger="keyup changed delay:300ms, search"
                hx-target="#search-results"
                hx-indicator="#search-spinner"
                autocomplete="off"
                class="block w-full pl-12 pr-12 py-4 bg-[var(--color-background)] border border-[var(--color-border)] rounded-2xl text-[var(--color-text)] placeholder-[var(--color-text-secondary)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] focus:border-transparent transition-all shadow-sm hover:border-[var(--color-primary)]/50"
              />
              <div id="search-spinner" class="htmx-indicator absolute inset-y-0 right-16 flex items-center pr-3">
                <svg class="animate-spin h-5 w-5 text-[var(--color-primary)]" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                  <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                  <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                </svg>
              </div>
              <button type="submit" class="absolute inset-y-2 right-2 px-6 bg-[var(--color-primary)] text-white rounded-xl font-medium hover:bg-[var(--color-primary-hover)] transition-colors">
                Search
              </button>
              <div id="search-results" class="empty:hidden"></div>
            </form>
          </div>

          <div class="mt-8 flex justify-center gap-4">
            <a href="/humans" class="px-6 py-3 rounded-lg bg-[var(--color-primary)] text-white font-semibold hover:bg-[var(--color-primary-hover)] transition-colors shadow-lg shadow-[var(--color-primary)]/20">
              Explore All Humans
            </a>
            <a href="/about" class="px-6 py-3 rounded-lg bg-[var(--color-background)] text-[var(--color-text)] font-semibold border border-[var(--color-border)] hover:bg-[var(--color-border)] transition-colors">
              Learn More
            </a>
          </div>
        </div>
      </section>

      <!-- Content Sections -->
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 space-y-16">
        
        <!-- Recently Added -->
        <section>
          <div class="flex items-center justify-between mb-6">
             <h2 class="text-2xl font-bold font-heading text-[var(--color-text)]">Recently Added</h2>
             <a href="/humans" class="text-sm font-medium text-[var(--color-primary)] hover:text-[var(--color-primary-hover)] group flex items-center">
               View All <span class="ml-1 transition-transform group-hover:translate-x-1">â†’</span>
             </a>
          </div>
          <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6">
            {{ range $human := .RecentlyAdded }}
              {{ template "component-card.html" $human }}
            {{ end }}
          </div>
        </section>

        <!-- Categories -->
        <div class="grid md:grid-cols-2 gap-12">
            <!-- Musicians -->
            <section>
              <h2 class="text-2xl font-bold font-heading text-[var(--color-text)] mb-6">
                <a href="/humans?tag=music" class="hover:underline decoration-[var(--color-primary)] decoration-2 underline-offset-4">Musicians</a>
              </h2>
              <div class="grid grid-cols-2 sm:grid-cols-3 gap-6">
                {{ range $human := .Musicians }}
                  {{ template "component-card.html" $human }}
                {{ end }}
              </div>
            </section>

            <!-- Comedians -->
            <section>
              <h2 class="text-2xl font-bold font-heading text-[var(--color-text)] mb-6">
                <a href="/humans?tag=comedian" class="hover:underline decoration-[var(--color-primary)] decoration-2 underline-offset-4">Comedians</a>
              </h2>
              <div class="grid grid-cols-2 sm:grid-cols-3 gap-6">
                {{ range $human := .Comedians }}
                  {{ template "component-card.html" $human }}
                {{ end }}
              </div>
            </section>
        </div>

        <div class="grid md:grid-cols-2 gap-12">
            <!-- Actors -->
            <section>
              <h2 class="text-2xl font-bold font-heading text-[var(--color-text)] mb-6">
                <a href="/humans?tag=actor" class="hover:underline decoration-[var(--color-primary)] decoration-2 underline-offset-4">Actors</a>
              </h2>
              <div class="grid grid-cols-2 sm:grid-cols-3 gap-6">
                {{ range $human := .Actors }}
                  {{ template "component-card.html" $human }}
                {{ end }}
              </div>
            </section>

            <!-- Legends -->
            <section>
               <h2 class="text-2xl font-bold font-heading text-[var(--color-text)] mb-6">
                <a href="/humans?search=legend" class="hover:underline decoration-[var(--color-primary)] decoration-2 underline-offset-4">Legends</a>
              </h2>
              <div class="grid grid-cols-2 sm:grid-cols-3 gap-6">
                {{ range $human := .Legends }}
                  {{ template "component-card.html" $human }}
                {{ end }}
              </div>
            </section>
        </div>
        
        <div class="text-center pt-8 border-t border-[var(--color-border)]">
           <a class="inline-flex flex-col items-center group" href="/humans">
            <span class="text-3xl font-extrabold text-[var(--color-text)] mb-2 group-hover:text-[var(--color-primary)] transition-colors">
              {{ .Count }} Humans
            </span>
            <span class="text-[var(--color-text-secondary)] text-sm">and counting...</span>
          </a>
        </div>

      </div>
    </main>

    {{ template "footer.html" . }}
  </body>
</html>